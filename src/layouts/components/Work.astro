---
interface Props {
  item: {
    data: {
      image: string;
      title: string;
      date: string;
    };
    slug: string;
    body: string;
  };
  featured: boolean;
}

import { Image } from "astro:assets";
import config from "@/config/config.json";
import dateFormat from "@/lib/utils/dateFormat";
import { plainify } from "@/lib/utils/textConverter";
import CalendarIcon from "@/icons/CalendarIcon.astro";
const { summary_length } = config.settings;
const { item, featured } = Astro.props;
---

<div class={featured ? "mb-8 md:col-6" : "mb-8 md:col-6 lg:col-4"}>
  <div class="card">
    <Image
      class="card-img"
      width={featured ? 235 : 335}
      height={featured ? 304 : 210}
      src={item.data.image}
      alt={item.data.title}
    />
    <div class="card-content">
      <h3 class="h4 card-title">
        <a href={`/works/${item.slug}`}>{item.data.title}</a>
      </h3>
      <p class="mb-4 text-text">
        {plainify(item.body?.slice(0, Number(summary_length)))}...
      </p>
      <div class="card-footer mt-6 flex space-x-4">
        <span class="inline-flex items-center text-xs text-[#666]">
          <CalendarIcon />
          {dateFormat(item.data.date)}
        </span>
      </div>
    </div>
  </div>
</div>
